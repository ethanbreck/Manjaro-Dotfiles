var cxCandyObj={version:"2020-04-22 09:58:33",renderTemplateHost:"http://cdn.cxpublic.com/",envType:"",env:"prod",initialized:!1,userId:null,jqInjected:!1,meta:{hasAd:"u"},persistedQueryId:"c77e57f707a8285372fa005966570578c63489b3",sites:{"onboarding.cxpublic.com":"9222363238898586877","www.local.wsj.com":"9222363238898586877"},sharedAccounts:{"8eebc7c7d60311c7c3936557c944228b90dbca842b100398efea4a169aa12fe7":"starbucks"},graphicsTestId:18,initialize:function(){this.siteLogoInfo={"9222318613852486900":{name:"Wall Street Journal",imgLink:"http://www.wsj.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/wsj_logo.svg",preferredWidth:"150"},"9222325317970825873":{name:"Market Watch",imgLink:"http://www.marketwatch.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/mw_logo.svg",preferredWidth:"100"},"1144071410389139719":{name:"Mansion Global",imgLink:"http://www.mansionglobal.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/mg_logo.svg",preferredWidth:"140"},"1142953111780883056":{name:"Realtor",imgLink:"http://www.realtor.com/",imgSrc:"https://"+this.cdnDomain+"/static_html_files/realtor_logo.svg",preferredWidth:"85"}};[{name:"cXenseParse:wsj-keyword",separator:","},{name:"cXenseParse:author",separator:"|"}].forEach(function(e){var t=document.head.querySelector("meta[name='"+e.name+"']");t&&!t.getAttribute("data-separator")&&t.setAttribute("data-separator",e.separator)});var e=this.getMetaTagValue("cx_pv_id");e&&cX.setRandomId(e),cX.addEventListener(window,"message",cxdj.renderCallback),cxdj.meta=cxdj.readPageContext()},isSubscriber:function(e){return"prosubscriber"===e||"procbsubscriber"===e||"subscriber"===e},getSiteId:function(e){return this.getSiteIdForTopDomain(cxdj.meta.topDomain,e,cxdj.meta.edition)},getSiteIdForTopDomain:function(e,t,c){var n=t===e?"":t.slice(0,t.lastIndexOf("."+e));switch(e){case"wsj.com":switch(c){case"naus":return-1<["","graphics","www","store"].indexOf(n)?"9222318613852486900":"quotes"===n?"1137428874877849937":"deloitte"===n?"1135177142006008713":"partners"===n?"1135132405600019683":"onboarding"===n?"1135108723701486695":cxdj.sites[t]?cxdj.sites[t]:"1134002947328204066";case"asiajp":return"9222335528673021906";case"asiacn":return"9222335528567651934";case"asiacn_hant":return"1135189930654442767"}break;case"marketwatch.com":return"bigcharts"===n?"1132882648552401441":"www.stg"===n?"1138573015853471556":"9222325317970825873";case"barrons.com":return"partners"===n?"1131774050934839824":-1<["dev.partners","stg.partners","sbx.partners"].indexOf(n)?"1132899956055435449":"9222325317970825875";case"realtor.com":return"1142953111780883056";case"fnlondon.com":return"1139592114930554183";case"penews.com":return"1133979867428110118";case"heatst.com":return"1140711674266969838";case"wsjplus.com":return"1144060886250044680";case"wsjcs-dev.com":return"1132877656863055436";case"moneyish.com":return"1131757219286375810";case"wsj.net":if(0===window.location.pathname.indexOf("/newsletter/"))return"1136293312189049388";break;case"mansionglobal.com":switch(c){case"naus":return"1144071410389139719";case"europees":return"1140714022692008822";default:return"1134007940894473081"}case"huanyuju.com":return"1140714022692008823";case"dowjones.com":return"1134008299188968078"}return cxdj.sites[t]?cxdj.sites[t]:"1131751141886830816"},reportEvent:function(e,t,c,n){var r=null,a="0";a=e&&e.length&&0===e.indexOf("https://store.wsj.com")?(cX.initializePage(),cxdj.sites["store.wsj.com"]):cxdj.getSiteId(window.location.hostname),cX.setSiteId(c||a),cX.setCustomParameters(cxdj.meta),t&&cX.setCustomParameters(t),cxdj.isSubscriber(cxdj.meta.subscriber)&&cxdj.userId&&cX.setUserProfileParameters({knownSubscriber:1}),e&&e.length&&(r={location:e}),cxdj.userId&&cX.addExternalId({id:cxdj.userId,type:"wsj"}),cX.sendPageViewEvent(r,n)},reportHOKTestImpression:function(e,t){cX.callQueue.push(["invoke",function(){cX.setEventAttributes({origin:"wsj-hok",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("hokImpression",{hokTestId:e,hokTestVariant:t})}])},reportFunnelEvent:function(r,a){cX.callQueue.push(["invoke",function(){var e,t="default";"object"!=typeof r&&(r={});cX.library.parseUrlArgs();r.eventType&&(t=r.eventType),cX.setEventAttributes({origin:"wsj-funnel",persistedQueryId:cxdj.persistedQueryId}),a&&(e={callback:a});var c={conversionType:"subscription"};for(var n in r)"eventType"!==n&&r.hasOwnProperty(n)&&(c[n]=r[n]);cX.sendEvent(t,c,e)}])},reportCustomConversion:function(e,t){cX.callQueue.push(["invoke",function(){cX.setEventAttributes({origin:"wsj-conversion",persistedQueryId:cxdj.persistedQueryId}),t=t||{},cX.sendEvent(e,t)}])},reportMissingDiv:function(e){cX.setEventAttributes({origin:"wsj-event",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("missingDiv",{divId:e})},reportInteractionEvent:function(t,c,n){cX.callQueue.push(["invoke",function(){var e;c=c||{},cX.setEventAttributes({origin:"wsj-placement",persistedQueryId:cxdj.persistedQueryId}),n&&(e={callback:n}),cX.sendEvent(t,c,e)}])},annotateUserProfile:function(e){e=e||"default",cX.initializePage();var t="http://event.wsj.com?et="+e;cX.setUserProfileParameters({useraction:e}),cX.sendPageViewEvent({location:t})},trackPolicy:function(e,t){cX.initializePage(),cX.setUserProfileParameters({policy:e||"unknown"});var c=cxdj.meta.topDomain;t&&(c=t,cX.setSiteId(cxdj.getSiteIdForTopDomain(t,t))),cX.sendPageViewEvent({location:"http://policy."+c+"/"}),"mwcpoct2017"===e&&window.localStorage&&window.localStorage.setItem("cx-gdpr-accepted","true")},reportVisibility:function(e,t){cX.callQueue.push(["invoke",function(){cX.trackElement({elementId:e,trigger:{on:function(e){return.2<=e.visibility.timeSome},callback:function(e){cX.setEventAttributes({origin:"wsj-visibility",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("widgetVisible",{widgetName:t})}}})}])},reportScrollDepth:function(){var e=null,n=0;function t(){var e,t=(document.documentElement.scrollHeight||document.body.clientHeight)-window.innerHeight,c=document.documentElement.scrollTop||document.body.scrollTop;0==t?e=100:(e=parseInt(c/t*100),e-=e%10),n<e&&(n=e,cX.setEventAttributes({origin:"wsj-scroll-depth",persistedQueryId:cxdj.persistedQueryId}),cX.sendEvent("pageScrollDepth",{depth:""+e,pos:c}))}window.addEventListener("scroll",function(){e&&clearTimeout(e),e=setTimeout(t,50)})},trackKnownElements:function(){for(var e=[{divId:"cx-editor-pick",name:"cxEditorsPicks"},{divId:"cx-user-headlines",name:"cx-user-headlines"}],t=0;t<e.length;t++){var c=e[t].divId,n=e[t].name;document.getElementById(c)&&this.reportVisibility(c,n)}},isExcludedWidgetSection:function(e){return-1!==["JournalReports:CollegeRankings","JournalReports:CollegeRankingsHighlights","JournalReports:Conferences","JournalReports:Energy","JournalReports:Funds&ETFs","JournalReports:HealthCare","JournalReports:Leadership","JournalReports:Retirement","JournalReports:SmallBusiness","JournalReports:TechCompaniestoWatch","JournalReports:WealthManagement","JournalReports:Technology"].indexOf(e.type)},isNewRelicMonitoring:function(){return-1!==window.location.href.indexOf("__newrelic_pad_monitoring=true")},getRecsWidget:function(){var e=cxdj.getMeta({});return cxdj.isExcludedWidgetSection(e)?"full-immersive"!==e.template&&"snippet-immersive"!==e.template||"JournalReports:CollegeRankings"!==e.type&&"JournalReports:CollegeRankingsHighlights"!==e.type?{widgetId:null}:{widgetId:"3b25f97d39183a742b7456c180b70f7219cdb97c",clickTag:"cx_immersive"}:-1<["cn.wsj.com","chinese.wsj.com","hk.wsj.com","www.hk.wsj.com","cn.stg.wsj.com"].indexOf(window.location.hostname)?{widgetId:"79a80ec024218735dd82dbd6411c21ce24d0a8b1",clickTag:"cx_china"}:"TheFutureofEverything"===e.type?{widgetId:"9bc013ee053a9910e7864554749ed704a76b31b2",clickTag:"cx_future"}:"full-immersive"===e.template||"snippet-immersive"===e.template?{widgetId:"3b25f97d39183a742b7456c180b70f7219cdb97c",clickTag:"cx_immersive"}:"Olympics"===e.section||"Olympics"===e.type?{widgetId:"2e6f3a55b420bf4694cfae47c08a6eca4630b885",clickTag:"cx_olympics"}:"Politics"===e.section?{widgetId:"cb71663b8d2e8d1d43f90831c4b933e09279b597",clickTag:"cx_politics"}:"Life"===e.section||"Life&Style"===e.section?{widgetId:"802e139d907077aa1e7fbe42967e069b4439e81a",clickTag:"cx_life"}:"YourMoney"===e.type||"TaxReport"===e.type||"WeekendInvestor"===e.type||"Money&Investing"===e.section?{widgetId:"d20d9befb3c9f275cb7c2bfb4a8573f6f79f8e9d",clickTag:"cx_money"}:{widgetId:"46e62d95da6d4b8cfa9b8e00a2835c04b34edede",clickTag:"cx_picks"}},getUserBucket:function(e){var t,c=["2qgQ1WCa3A","ixi4E5ylqa","830nwKog3K","K8ZnHJ5Uyn","91GjW1q7Zg","rGgki1wrhs","q85AaJVP78","1p6sdUNJWD","63L1D4y2F9","HY0f8Of9M1"],n=cX.getCookie("usr_bkt"),r=c.indexOf(n);if(-1!==r)return r;if(e&&e.length){for(var a=0,i=0;i<e.length;i++)a=(a<<5)-a+e.charCodeAt(i),a|=0;t=Math.abs(a)%10}else t=Math.floor(10*Math.random());return cX.setCookie("usr_bkt",c[t],3650,"/",cX.getTopLevelDomain()),t.toString()},getAbBucket:function(){var e=cX.getCookie("ab_uuid");if(!e)return-2;for(var t=0,c=0;c<e.length;c++)t=(t<<5)-t+e.charCodeAt(c),t|=0;return(Math.abs(t)%100).toString()},getOmnitureCookieValue:function(){var e=cX.getCookie("AMCV_CB68E4BA55144CAA0A4C98A5%40AdobeOrg");if(!e)return{};var t=e.split("|");if(t.length<2)return{};for(var c={},n=1;n<t.length-1;n+=2)c[t[n].toLowerCase()]=t[n+1];for(var r in c)"none"===(c[r]||"").toLowerCase()&&delete c[r];return c},getMeta:function(e){for(var t=document.getElementsByTagName("meta"),c=0;c<t.length;c++){var n=t[c].content.replace(/ /g,"");switch(t[c].name){case"article.type":e.type=n;break;case"article.template":e.template=n;break;case"article.access":e.access=n;break;case"user.exp":"default"!==n&&(e.userExp=n);break;case"user.type":"nonsubscriber"===n||cxdj.isSubscriber(n)?e.subscriber=n:"freeRegister"===n?e.subscriber="registered":-1<["memsubyes"].indexOf(n)?e.subscriber="subscriber":"regyes"===n?e.subscriber="registered":(e.subscriber="default",e.extra1=n);break;case"section":case"article.section":e.section=n}}return e.template||(this.cxshield&&"personalized"===this.cxshield.type?e.template="snippet":e.template="full"),e},getMetaTagValue:function(e,t){if(!e)return"";t=t||"name";var c=document.querySelector("meta["+t+'="'+e+'"]');return c&&c.getAttribute("content")||""},getQueryParamValue:function(e){e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(window.location.href);return t&&t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):""},getMonthName:function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(e||Date.now()).getMonth()]},displayArticleCover:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-articlecover";switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("cb5ddcce7d042f8bf5215efb6aff7f93089bcd57",e,void 0,void 0,["pwTag","accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"marketwatch.com":var t="cx-marketing-snippet";cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",t,void 0,void 0,["pwPlacement","accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("665e0bcdbbe895316d610f4cd72480f820a6d08e",e,void 0,void 0,["pwTag","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayJoinTheConversationInline:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-jtc-inline";switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("6440fe3ca63c69d41b8729648f7ed38b4d38efdc",e,void 0,void 0)}}},displayVideoScrim:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("5cb4c11f11e5da190e12c4f0210a7eb3b824134e",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}},displayScrim:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("643fbd8f63b7439e03c41adfbe753cb75abd8d87",e):cxenseOffers.requestCCEOffer("a79051bd87db0958ee9836ac4b045614586a88cc",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("dd988baf5af5819704a9889728e5b9f82189f8ec",e);break;case"mansionglobal.com":cxenseOffers.requestCCEOffer("1525c3c9ed64809f70104e5300e5debd2a92605f",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("12458a7acb1868379181ba540ba8c31bcf6ffae4",e);break;case"penews.com":cxenseOffers.requestCCEOffer("139e07a3c1a5bca246465c71b424f9472584146d",e);break;case"wsj.com":switch(cxdj.meta.edition){case"naus":"Video"===cxdj.meta.section||(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("b867c58b03e06a08c6238740e80c36f44ce93a41",e):cxenseOffers.requestCCEOffer("b3e80557a3fb67b2ec6b23810f739873daa70ce9",e));break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("05c771a5f0c9be8128d8597b3fc5c43c1f7a8ada",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("11fe6d28255622ce1dd6d06aa7a4cc97aafc469f",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("e4090803f309dc232db0b0d7d577625551571009",e)}}}},displayProScrim:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-scrim";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("410321637a47e12baa8863e677aba7a74cf81319",e,void 0,void 0,["pageSiteProduct","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayProSnippet:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-snippetad";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("618da8476c015a43e028f0f026cb08d3e3a173b4",e,void 0,void 0,["pageSiteProduct","pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayProCandybar:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-pro-candybar";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.requestCCEOffer("12b72b5f423f0d0b51e1796bfd800c057765ab49",e,void 0,void 0,["pageSiteProduct","pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displayCandyBar:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-candybar";if(!cxenseOffers.hasDivId(e)&&document.location.pathname.includes("/news/collection/see-where-the-money-leads-6f95f1a1")&&cxdj.prepareDiv(e),cxenseOffers.hasDivId(e)){var t="nonsubscriber"===cxdj.meta.subscriber||"registered"===cxdj.meta.subscriber;switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":t&&cxenseOffers.requestCCEOffer("15fc5810f60a3ecdf05c10bbdab82744dbc95213",e);break;case"asiajp":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("69829cec87fa661ad05628f01c21d793881ddf08",e):t&&cxenseOffers.requestCCEOffer("46c976a6d4479e4ec8c96b13fb9e002f6eb68265",e);break;case"asiacn":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("49e69245fbd802cf880e0d594a1e0969dcdbc6d9",e):t&&cxenseOffers.requestCCEOffer("1c7cfe13eb4ae0e594dba0323f1864e905fb5e0a",e);break;case"asiacn_hant":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("36bfed3799d02d926501c9ba4c42f0c528d9d012",e):t&&cxenseOffers.requestCCEOffer("45f5ca6fa134b605506a7668f140843ef8751248",e)}break;case"barrons.com":cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("cfb8cda0385a36bba08c7b3337eb600a6679ad3a",e):cxenseOffers.requestCCEOffer("3136cddea70289fe567e2697f7fcf7124817cdf3",e);break;case"fnlondon.com":cxenseOffers.requestCCEOffer("4ddc66a66b00cb03f452a1181d57c9ba0bea29f3",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"dowjones.net":case"wsjplus.com":break;case"marketwatch.com":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("28f7dc8ae583469d207401968eba8a7f811f7267",e)}}}},displayMGInArticle:function(){var e="cx-in-article";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"mansionglobal.com":cxenseOffers.requestCCEOffer("fd0c07d888bc2ef9b79209a6621f86a01b75bfc2",e)}},displayMwHPP13NTest:function(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"marketwatch.com":var e="cx-hp-p13n-test";cxdj.prepareDiv(e),cxenseOffers.requestCCEOffer("bade86d8175503435fc4d41560603c700ee5ce8e",e)}},displayMGPoptart:function(){var e="cx-lhs-poptart";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"mansionglobal.com":cxenseOffers.requestCCEOffer("ae9cb7c837ba9f3d67b2fa4edc2a3ea5e9bb094b",e)}},displayLiveCoverageTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-live-coverage-tile";cxenseOffers.hasDivId(e)&&(cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("13ac1f365126d3939721ca1f978fdf559c86dc9b",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.requestCCEOffer("623d396faaf5555db465bec2ac5f137328e9360a",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]))}},displayExpRepRightRail:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-exp-rep-right-rail";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("b326c1c3a82c69e6d09f3ed6d32eb5b604a43962",e)}},displayExpRepArticleContent:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-content-main";cxenseOffers.hasDivId(e)&&"Experience Report"===cxdj.getUtagData().article_type&&cxenseOffers.requestCCEOffer("ac1d3b4b6acb27df1dd0049b42e2c011031dd595",e)}},displayNewsletterTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-newsletter-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":if("wsjpro"!==cxdj.getUtagData().page_site){switch(cxdj.meta.edition){case"naus":"Experience Report"===cxdj.getUtagData().page_subsection?cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("70fc3140d02b250c5cf765fef8975ddfe4a4ccb2",e):cxenseOffers.requestCCEOffer("421485868f76ecbb3cc8c06c2655516a8bc697c6",e):cxenseOffers.requestCCEOffer("e68cc07ebf7b89a142b78f1850ac786ac22aa3c7",e)}break}cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("42b5c423f0c9ce0e4ea14f0ddeed23ea53fcc54b",e,void 0,void 0,["pageSiteProduct"]):cxenseOffers.requestCCEOffer("9d660f11b6dce3bba615ee946a6e8083514f94f1",e,void 0,void 0,["pageSiteProduct"]);break;case"barrons.com":if(cxenseOffers.hasDivId("webui_newsletter_inset"))return;cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("6a905ac47f9ad184994a4e77ba5eba015e087723",e):cxenseOffers.requestCCEOffer("c141ad1193c47d3bb2d9c38abb81229917c0d1e7",e)}}},displayMembershipTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-membership-tile";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":"wsjpro"===cxdj.getUtagData().page_site?cxenseOffers.requestCCEOffer("e73119387d9c6312e6d5993fd54420b15a9c6d12",e,void 0,void 0,["pageSiteProduct"]):cxdj.isSubscriber(cxdj.meta.subscriber)?cxenseOffers.requestCCEOffer("f1fb4da1986ca885f73d3bd1bdbb5ecbe6912865",e):cxenseOffers.requestCCEOffer("9e5724d5eda30e7c52430d3a5113fed1ed60d22a",e);break;case"marketwatch.com":cxenseOffers.requestCCEOffer("7494fd2c425fe9b12869e87d0897dda4687f0071",e)}}},displayNotification:function(){if("staging"!==cxdj.env&&!cxdj.isNewRelicMonitoring()){var t="cx-notification";switch(cxdj.meta.topDomain){case"barrons.com":c("68781b66900d5e3f4b42ff5be1d712959ff90f4d");break;case"wsj.com":var e=document.querySelector("#breaking-news-6e96dff1d9fe");if(!cxenseOffers._isDivEmpty(e))return;cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("fdffeaef25759d5a4b278e2b045241d7cc93fb7c",t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]);break;case"fnlondon.com":c("7fbbea21a5aa1dee7b0d79af212d856f38987112");break;case"marketwatch.com":if(window.localStorage&&"true"===window.localStorage.getItem("cx-gdpr-accepted"))return;c("cccd1013b442c52c78a8a47269f14edd1d9c6f0b");break;case"moneyish.com":c("05065098ddbaa3ed460d7d151c1fd724ec6b03d4");break;case"huanyuju.com":case"mansionglobal.com":0===window.location.pathname.indexOf("/es/")||"/es"===window.location.pathname?c("a20344ab78eb6ea53a48817e372168b8b45e611e"):c("3726e868762f00176bf156370845f12f0e1923d0");break;case"penews.com":c("5d971332e0240e6e572c53abba1555e9095d778f");break;case"wsjplus.com":c("d3e3c35fd9f854b03a6472811f98780968bfeae7");break;case"dowjones.com":c("60a2ee6777b1c044551246caa7dd38b011841619")}}function c(e){cxdj.prepareDiv(t),cxenseOffers.requestCCEOffer(e,t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}},displaySnippet:function(){if(!cxdj.isNewRelicMonitoring()&&!window.axateLoggedInStatus){var e="cx-interstitial-snippet",t="cx-im-snippet",c="cx-snippetad",n="cx-marketing-snippet";switch(cxdj.meta.topDomain){case"barrons.com":cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("80c889e1149a1d949c7f0976ed3bba042569df39",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"marketwatch.com":cxenseOffers.hasDivId(n)&&cxenseOffers.requestCCEOffer("38a8e471ea3f5ee900128bb831310b82c22c3d3e",n,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"]);break;case"wsj.com":"snippet-immersive"===cxdj.meta.template?cxenseOffers.hasDivId(t)&&cxenseOffers.requestCCEOffer("5298443d3ac3faed4532071b05d7f8e6c7f516d8",t,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"]):cxenseOffers.hasDivId(c)&&cxenseOffers.requestCCEOffer("5298443d3ac3faed4532071b05d7f8e6c7f516d8",c,void 0,void 0,["pageContentTypeDetail","accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}}},displaySignInReminder:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-sign-in-reminder";if(cxenseOffers.hasDivId(e)&&"subnotloggedin"===cxdj.meta.subscriber&&!(-1<cxdj.getMetaTagValue("stack.name").indexOf("static"))){var t=sessionStorage.getItem("cx_display_sign_in_reminder");if(this._signInReminderDisplayed||!t)switch(sessionStorage.setItem("cx_display_sign_in_reminder","true"),this._signInReminderDisplayed=!0,cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":cxenseOffers.requestCCEOffer("e6ac7b2eeb47df18b23b5e3470ef7fe0cb5949d1",e);break;case"asiajp":cxenseOffers.requestCCEOffer("85ed5943cf5309541cdfad426b1b74b52fd85ba8",e);break;case"asiacn":cxenseOffers.requestCCEOffer("fe71f96af21230de427aa3968b0d1a49af2c9f8f",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("65343b9ea632e6fc06ca911e9c917d810d26ad1d",e)}}}}},displayCustomFooter:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-mg-footer";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"huanyuju.com":case"mansionglobal.com":cxenseOffers.requestCCEOffer("2be38a0c08a35cec08c20ba86bd650386b832ac3",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew"])}}},displayPoptart:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-poptart";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"asiajp":cxenseOffers.requestCCEOffer("a4e5e66af9756b29d6dac6bb8c6303c26984a92f",e);break;case"asiacn":cxenseOffers.requestCCEOffer("cc586206df60d808d326be68a038339b9190e0c9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("8c2844db17f8de6a9d833b8fc2021a9eabad71b3",e)}}}},displayArticleInlineNewsletterTile:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-article-inline-newsletter-tile";cxenseOffers.hasDivId(e)&&"wsj.com"===cxdj.meta.topDomain&&"naus"===cxdj.meta.edition&&cxenseOffers.requestCCEOffer("05fd828c4879cce5b1f442926e43636b829d5e9b",e)}},displayHokTests:function(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"wsj.com":var e="cx-hok48e";cxdj.prepareDiv(e),cxenseOffers.requestCCEOffer("2ef2870b96cb18a4208f4bcf946286e73e3d791d",e,void 0,void 0,["accountEnd","accountMarketing","accountOffer","accountRenew","userTags"])}},displayTopRhsHeader:function(){if(!cxdj.isNewRelicMonitoring())switch(cxdj.meta.topDomain){case"wsj.com":cxenseOffers.hasDivId("cx-popup")&&cxenseOffers.requestCCEOffer("2de24eadb5f96a9436a375f0d2087dac83093d90","cx-popup");break;case"barrons.com":cxenseOffers.hasDivId("cx-header")&&cxenseOffers.requestCCEOffer("8beff7dca1f80abd8d6e191025ab9acfd2204aa5","cx-header");break;case"marketwatch.com":cxenseOffers.hasDivId("cx-header")&&(cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("1594cc79136361e4a4391f3b7b1ea0294f0511f3","cx-header"))}},displaySideMenu:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-sidemenu";if(cxenseOffers.hasDivId(e))switch(cxdj.meta.topDomain){case"marketwatch.com":cxdj.isSubscriber(cxdj.meta.subscriber)||cxenseOffers.requestCCEOffer("48e9c719e21a2f9226b1487fba341059455dd976",e)}}},displayCatchUp:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-catch-up";cxenseOffers.hasDivId(e)&&cxenseOffers.requestCCEOffer("3f2954bdd14f53fc51f4c7d552bfeec1158934d5",e,void 0,void 0,["catchupmodulesection","catchupmoduleslug","catchupmoduletopic"])}},displayWhatToReadNext:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-what-to-read-next";cxenseOffers.hasDivId(e)&&cxenseOffers.lazyLoad(e,function(){switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e);break;case"asiajp":cxenseOffers.requestCCEOffer("4393cade519a0ab746346fc20f9e93952d3dba98",e);break;case"asiacn":cxenseOffers.requestCCEOffer("7d5fe562cf0a8a8f2d7983b2913b02f1addb36e9",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("e221afec8f77bf597b9e04d5f8e92b76c0ecc4b7",e);break;default:cxenseOffers.requestCCEOffer("8fc24f5568d1c6da8db6a570a4368b5b523deabe",e)}}})}},displayMostPopularArticles:function(){if(!cxdj.isNewRelicMonitoring()){var e="cx-most-popular-articles";cxenseOffers.hasDivId(e)&&cxenseOffers.lazyLoad(e,function(){switch(cxdj.meta.topDomain){case"wsj.com":switch(cxdj.meta.edition){case"naus":if(window.document.querySelector("#catch-up-module-container"))return;cxenseOffers.requestCCEOffer("4c744d3013084762411b96593dcd0052cfec928c",e);break;case"asiajp":cxenseOffers.requestCCEOffer("36538210711f305d5f22951f73a1c139c52da097",e);break;case"asiacn":cxenseOffers.requestCCEOffer("0a045a34a13f5a49dd26ff72bbe83b9a738e8c8c",e);break;case"asiacn_hant":cxenseOffers.requestCCEOffer("54288d90873b0e12c1cd550d6978ae19a05bfa71",e);break;default:cxenseOffers.requestCCEOffer("4c744d3013084762411b96593dcd0052cfec928c",e)}}})}},getUtagData:function(){return"object"!=typeof window.utag_data?{}:window.utag_data},prepareDiv:function(e){var t=document.getElementById(e);t||(t=document.createElement("div")).setAttribute("id",e),document.body.insertBefore(t,document.body.firstChild)},normalizeUserType:function(e){return"subscriber"===e||"prosubscriber"===e?"subscriber":"nonsubscriber"===e||"regUser"===e?cX.getCookie("TR")?"subnotloggedin":"nonsubscriber":"freeRegister"===e?"registered":"default"},readPageContext:function(){var e,t={},c=cxdj.getUtagData();if(cxdj.jqInjected&&(t.jqInject="y"),t.hasAd="n",t.topDomain=cX.getTopLevelDomain(),(e=c.cx_shield?c.cx_shield:this.getMetaTagValue("cx_shield"))&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}"object"==typeof e&&(t.pwTag=e.tag,t.pwPlacement=e.placement,t.pwCampaign=e.campaign,t.pwType=e.type,"object"==typeof e.propensity&&(t.propScore=e.propensity.propensityScore,t.propQuantile=e.propensity.quantile),this.cxshield=e),this.getQueryParamValue("fb_news_token")&&("facebook_news"===this.getMetaTagValue("user.exp")?t.fbNewsUnlock="true":t.fbNewsUnlock="false");var n=document.querySelector("#AD_PUSH");(cxenseOffers.hasDivId("RollOutAd970x66")||n&&n.children.length)&&(t.hasAd="y"),"Home"===c.page_content_type?t.isHP="y":t.isHP="n";try{var r=cX.library.parseUrlArgs();r.mod&&(t.navSource=r.mod),r.reflink&&(t.reflink=r.reflink),r.trackCode&&(t.trackCode=r.trackCode);var a=(document.referrer||"").replace(/^https?:\/\/(www\.)?/,"").split("/")[0].replace(/\./g,"");a.length&&(t.referrer=a);try{var i=window.devicePixelRatio&&1<window.devicePixelRatio||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches;t.retina=i?"y":"n"}catch(e){t.retina="u"}(t=cxdj.getMeta(t)).subscriber=cxdj.normalizeUserType(c.user_type),t.isSubscriber=cxdj.isSubscriber(t.subscriber)?"y":"n";var s="na,us";if("Edition_Japan"===c.page_content_region)s="asiajp";else{var o=(s=cX.getCookie("wsjregion")||"na,us").indexOf("reset");s=(s=-1===o?s:s.slice(0,o-1)).replace(/,/g,"")}c.user_tags&&-1<c.user_tags.indexOf("WSJPRO-AI")&&(t.entitlement="wsjpro-ai"),t.edition=s;var d=c.user_ref||cX.getCookie("TR");d&&(0===d.indexOf("V2-")?cxdj.userId=d.substring(3):cxdj.userId=d),cxdj.sharedAccounts[cxdj.userId]&&(t.sharedAccount=cxdj.sharedAccounts[cxdj.userId],cxdj.userId=null),t.bucket=cxdj.getUserBucket(cX.getUserId()),t.ab_bucket=cxdj.getAbBucket(),t.pageContentTypeDetail=c.page_content_type_detail||"default",t.pageSiteProduct=c.page_site_product;var f=c.profiles&&c.profiles.account;f&&(t.accountEnd=f.end,t.accountMarketing=f.marketing,t.accountOffer=f.offer,t.accountRenew=f.renew);for(var u=["BARRONS-SUB","WSJ-SMARTPHONE","WSJ-PLUS","WSJ-IPAD"],l=0;l<u.length;l++){var p=u[l];if(c.user_tags&&-1<c.user_tags.indexOf(p)){t.userTags=p;break}}var m=document.querySelector("#catch-up-module-container");m&&(t.catchupmodulesection=m.dataset.catchUpSection,t.catchupmoduleslug=m.dataset.catchUpSlug,t.catchupmoduletopic=m.dataset.catchUpTopic)}catch(e){}return t},requestAllOffers:function(){if(this.cxshield&&"object"==typeof this.cxshield){switch(this.cxshield.placement){case"cx-articlecover":cxdj.displayArticleCover(),cxdj.displayJoinTheConversationInline(),cxdj.displayArticleInlineNewsletterTile();break;case"cx-candybar":cxdj.displayCandyBar();break;case"cx-scrim":cxdj.displayScrim();break;case"cx-pro-scrim":cxdj.displayProScrim();break;case"cx-pro-snippetad":cxdj.displayProSnippet();break;case"cx-interstitial-snippet":case"cx-snippetad":cxdj.displaySnippet()}"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()}else"snippet"===cxdj.meta.template||"snippet-immersive"===cxdj.meta.template?(cxdj.displaySnippet(),"barrons.com"===cxdj.meta.topDomain&&cxdj.displayCandyBar()):(cxdj.displayScrim(),cxdj.displayCandyBar(),cxdj.displayProCandybar());cxdj.displayNewsletterTile(),cxdj.displayCustomFooter(),cxdj.displayPoptart(),cxdj.displayTopRhsHeader(),cxdj.displaySignInReminder(),cxdj.displayMGPoptart(),cxdj.displayMGInArticle(),cxdj.displayLiveCoverageTile(),cxdj.displayWhatToReadNext(),cxdj.displayExpRepArticleContent(),cxdj.displayMostPopularArticles(),cxdj.displaySideMenu(),"https://www.marketwatch.com"===window.location.origin&&cxdj.displayMwHPP13NTest(),"wsj.com"===cxdj.meta.topDomain&&0===window.location.pathname.indexOf("/graphics")&&cxenseOffers.hasDivId("cx-recommendations")&&cxTest.runCxVersion(cxdj.graphicsTestId,"cx-recommendations",{widgetId:"7ba219edc99dffa66b9542eb11b13234440982ae"})},run:function(){cxdj.initialize(),cxdj.initializationCompleted=!0,cxdj.reportEvent(null);try{var e=void 0!==window.grandcanyon;if(0===(cxdj.meta.bucket||0)&&cxdj.reportScrollDepth(),e&&"wsj.com"===cxdj.meta.topDomain||cxdj.displayNotification(),"undefined"==typeof cxDisplayTileOverride&&!e)try{cxdj.displayMembershipTile()}catch(e){}"undefined"!=typeof cxDisplayAdOverride||e||cxdj.requestAllOffers(),cxdj.displayHokTests();var t=cX.library.parseUrlArgs();if(t.cx_previewWidget){var c=t.cx_previewDiv||"cx-preview-div",n=document.getElementById(c);n||((n=document.createElement("div")).setAttribute("id",c),document.body.insertBefore(n,document.body.firstChild));var r=t.cx_previewTag?{tag:t.cx_previewTag}:void 0;cxenseOffers.requestCCEOffer(t.cx_previewWidget,c,r)}}catch(e){}cxdj.trackKnownElements()},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},injectJQuery:function(e){if(window.jQuery)e&&window.setTimeout(e,1);else{cxdj.jqInjected=!0;var t=document.createElement("script");t.src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js",e&&(t.onload=e),document.getElementsByTagName("head")[0].appendChild(t)}},loadABTestLibrary:function(e){var t=document.createElement("script");t.src="https://cdn.cxense.com/cx.cce.js",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}},cxdj=cxdj||cxCandyObj,cX=cX||{};function initializeCxense(){if(!cxdj.initialized){cxdj.initialized=!0;var e=/\.barrons\.com$/i.test(window.location.hostname),r=e?"asset.barrons.com":"asset.wsj.net";cxdj.cdnDomain=e?"asset.barrons.com":"s.wsj.net",cxdj.loadABTestLibrary(function(){cX.callQueue.push(["invoke",function(){var e=cX.getTopLevelDomain(),t=document.getElementsByTagName("head")[0],c=document.createElement("script");if(c.type="text/javascript",c.async="async",c.src="https://"+r+"/public/md5.production-e41e7724c3.js",t.appendChild(c),!window.fetch){var n=document.createElement("script");n.type="text/javascript",n.async="async",n.src="https://"+cxdj.cdnDomain+"/static_html_files/fetch.min.js",t.appendChild(n)}cxTest.init(null,"wsj",cxdj.persistedQueryId,"timeSome"),-1<["barrons.com","fnlondon.com"].indexOf(e)?cxdj.injectJQuery(cxdj.run):cxdj.run()}])})}}cX.callQueue=cX.callQueue||[],function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.async="async",t.src="https://cdn.cxense.com/cx.js",e.appendChild(t)}(),initializeCxense();var cxenseOffers={hasDivId:function(e){return null!==document.getElementById(e)},getDisplaySection:function(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){var c=e["recs-category"].split("/");if(1<c.length)return t.hasOwnProperty(c[1])?t[c[1]]:c[1]}return"WSJ"},shortenTitle:function(e,t){if(t<e.length){var c=e.charAt(t);return e=e.substr(0,t)," "!==c&&(e=e.substr(0,e.lastIndexOf(" "))),e+="..."}return e},updateCCEKValue:function(e){if(e&&e.length){for(var t=[],c=0;c<e.length;++c)e[c].adTargetingKeywords&&t.push(e[c].adTargetingKeywords);t.length&&(cxdj.meta.k=t.join(" "))}},addContextParameter:function(e,t,c){var n=""+t,r=c.toLowerCase();e.context.categories[r]=n,e.context.parameters.push({key:r,value:n})},getCCEContext:function(e,t,c){var n=cxdj.meta,r={};e&&(r=JSON.parse(JSON.stringify(e))),r.context||(r.context={}),r.context.categories||(r.context.categories={}),r.context.parameters||(r.context.parameters=[]),c&&(r.user=c);var a=["subscriber","edition","pwCampaign"];t&&(a=a.concat(t));for(var i=0;i<a.length;++i)if(n.hasOwnProperty(a[i])){var s=a[i];void 0!==n[s]&&this.addContextParameter(r,n[s],s)}return r},requestCCEOffer:function(e,t,c,n,r){var a=cxdj.meta.navSource?["navSource","bucket"]:["bucket"];r&&(a=a.concat(r)),t&&t.length&&!cxenseOffers.hasDivId(t)&&cxdj.reportMissingDiv(t),cxTest.run({widgetId:e,targetElementId:t},cxenseOffers.getCCEContext(c,a,n))},hasInsituNewsletterSignup:function(e,t,c){var n=e.creative.destinationUrl,r=function(e,t){t=t||window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}("sub",n);console.log("hasInsitu check ",r,". Check: ",n),r&&this.subscriberNewsletterSignup(r,t,c)},getUserRenewLink:function(u,l){fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.profile)throw Error("Invalid Profile Data");for(var t={},c=0;c<e.profile.length;++c)for(var n=e.profile[c],r=0;r<n.groups.length;++r)t[n.groups[r].group]=n.item;var a,i,s,o,d=t["wsj-renew-postage-indicator"],f=t["wsj-bol-renew-postage-indicator"];return d||f?(d?"c"===d?(a=t["wsj-renew-ctaurl1-1"],i=t["wsj-renew-ctaurl1-2"]||""):"m"===d&&(a=t["wsj-renew-ctaurl2-1"],i=t["wsj-renew-ctaurl2-2"]||""):f&&("c"===f?(a=t["wsj-bol-renew-ctaurl1-1"],i=t["wsj-bol-renew-ctaurl1-2"]||""):"m"===f&&(a=t["wsj-bol-renew-ctaurl2-1"],i=t["wsj-bol-renew-ctaurl2-2"]||"")),a&&i?(o=a+i,"userprofile"!==(u||"").toLowerCase()&&(s=o.match(/(.*)((\&|\?)mod=([^&]*))(.*)/))&&6<=s.length&&(o=s[1]+s[3]+"mod="+u+s[5]),o=o.replace(/(\?|&)ec=([^&]*)/,function(e,t,c){return t+"ec="+c.toUpperCase()}),l(null,o)):l()):l()}).catch(function(e){return l(e)})},get1stPartyData:function(r,a){fetch("/emailsignup/profile",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.profile)throw Error("Invalid Profile Data");for(var t=0;t<e.profile.length;++t){var c=e.profile[t];if(c.item)for(var n=0;n<c.groups.length;++n)if(c.groups[n].group===r)return a(null,c.item)}return a()}).catch(function(e){return a(e)})},getQueryVariable:function(e){for(var t=window.location.search.substring(1).split("&"),c=0;c<t.length;c++){var n=t[c].split("=");if(n[0]===e)return n[1]}return!1},getSection:function(e){var t={us:"U.S. News",world:"World News",csuite:"Business","page one":"World News",realestate:"Real Estate",news:"World News","front section":"World News","wealth management journal":"Markets","health and wellness":"Life","new york/ny real estate residential":"Real Estate"};if(e["recs-category"]&&e["recs-category"].length){var c=e["recs-category"].split("/"),n=c[0];if(1<c.length){var r=c[0]+"/"+c[1];if(t[r])return t[r]}if(t[n])return t[n];if(n.length)return n}return"WSJ"},hasEmailDestinationURL:function(e,t){var c=function(e,t){t=t||window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}("address",e.creative.destinationUrl);if(c){var n=$(t).attr("href")+"?r=https://scomcluster.cxense.com/Repo/rep.gif";t.attr("href","mailto:"+c+"&subject=Wall Street Journal Notification"),$(t).click(function(e){$(t).after(' <img src="'+n+'"  height="0" width="0"/>')})}},slideUp:function(t,c,n){if(t){var e=t.clientHeight||t.offsetHeight;if(0===c)return t.style.height=0,void(t.style.display="none");c=isNaN(c)?400:c;var r=t.style.height=e,a=Math.round(25*e/c),i=new Date,s=setInterval(function(){var e=new Date;if(r<=0||c<=e-i)return clearInterval(s),t.style.height=0,t.style.display="none",void("function"==typeof n&&n());r-=a,t.style.height=r+"px"},25)}},getSubscribedNewsletterIds:function(a){if("function"==typeof a){fetch("/newsletters/svc/signup/2",{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.subscriptions)throw Error("Invalid User Subscriptions Data");for(var t=e.subscriptions,c=t.length,n=[],r=0;r<c;r++)"object"==typeof t[r]&&t[r].opt_in&&n.push(t[r].id);return a(null,n)}).catch(function(e){return a(e,[])})}},signupGuestPass:function(e,t,c){if(e&&t){var n=isNaN(parseInt(t))?-1:parseInt(t),r=0===document.location.pathname.indexOf("/membership/")?"https://www.wsj.com":document.location.href,a={email:e,type:t,userId:cX.getCookie("cX_P"),url:r};fetch("/emailsignup/enroll",{method:"POST",credentials:"include",body:JSON.stringify(a),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){return e.json()}).then(function(e){if(!e||e.code)throw Error(e.message);7===n?cxdj.reportInteractionEvent("GuestPass7DSuccess"):2===n&&cxdj.reportInteractionEvent("GuestPass2DSuccess"),cX.setUserProfileParameters({userEvent:"EmailOfferGrantedArticleCover"}),e&&e.url&&(window.location.href=e.url)}).catch(function(e){c&&(c.innerHTML=e||"Unable to process request"),cxdj.reportInteractionEvent("EmailOfferError",{error:e})})}},signupMemberGetMember:function(t,e,c,n,r,a){if(c){var i={to:c,"g-recaptcha-response":e};fetch("/emailthis/member-signup",{method:"POST",credentials:"include",body:JSON.stringify(i),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(n,r,!0),"function"==typeof a&&a(),grecaptcha.reset(t)}).catch(function(e){n.style.display="none",r.innerHTML="<p>An unexpected error occurred and we were unable to send the invite</p>",cxenseOffers.fadeIn(r,0),grecaptcha.reset(t)})}},_signupNewsletterAsSub:function(c){var n={"wsj.com":{url:"/newsletters/svc/signup/2"},"barrons.com":{url:"/newsletters/svc/signup/30"}};if(n[cxdj.meta.topDomain])return"blogs.wsj.com"===window.location.hostname&&(url="https://www.wsj.com"+url),fetch(n[cxdj.meta.topDomain].url,{method:"GET",credentials:"include",headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");return e.json()}).then(function(e){if(!e||!e.email)throw Error("Invalid Email Data");var t={email:e.email,subscription:{}};return t.subscription[c]=!0,fetch(n[cxdj.meta.topDomain].url,{method:"PATCH",credentials:"include",body:JSON.stringify(t),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"})})},candybarSignupNewsletterAsSub:function(t,c,n,r,a){t&&c&&cxenseOffers._signupNewsletterAsSub(t).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers._hideElement(c),cxenseOffers.fadeIn(n,0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:"cxense_module"}),"function"==typeof a&&a()}).catch(function(e){cxenseOffers._hideElement(c),cxenseOffers.fadeIn(r,0)})},signupNewsletterAsSub:function(t,c,n,r){t&&c&&cxenseOffers._signupNewsletterAsSub(t).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(c,n,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:t}),utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:t,module_tracker:"cxense_module"}),"function"==typeof r&&r()}).catch(function(e){cxenseOffers.showSignupMessage(c,n,!1)})},signupNewsletterAsNonSub:function(c,n,r,a,i,s){var o={"wsj.com":{url:"/newsletters/svc/signup/2/simple-signup",editionId:"WSJ-EN_US"},"barrons.com":{url:"/newsletters/svc/signup/30/simple-signup",editionId:"BARRONS-EN_US"}};o[cxdj.meta.topDomain]&&cxenseOffers.injectRecaptchaScript(function(){grecaptcha.ready(function(){grecaptcha.execute("6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",{action:"social"}).then(function(e){if(c&&n&&r){var t={emailAddress:c,newsletterIds:[parseInt(n)],marketing:i,returnLink:"http://www."+cxdj.meta.topDomain,editionId:o[cxdj.meta.topDomain].editionId,displayContextId:"ONE_CLICK_REGISTRATION","g-recaptcha-response":e};fetch(o[cxdj.meta.topDomain].url,{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");cxenseOffers.showSignupMessage(r,a,!0),cxdj.reportCustomConversion("newsletterSignup",{newsletterId:n}),utag.link({event_name:"add_newsletter",newsletter_name:"",newsletter_id:n,module_tracker:"cxense_module"}),"function"==typeof s&&s()}).catch(function(e){cxenseOffers.showSignupMessage(r,a,!1)})}})})})},showSignupMessage:function(e,t,c){if(e&&t)if(e.style.display="none",c)cxenseOffers.fadeIn(t,0);else{t.innerHTML='<p>We could not Subscribe you at this time.<a href="'+window.location.host+'/newsletters">Manage your subscription manually</a></p>';cxenseOffers.fadeIn(t,0)}},submitJobForm:function(e,t){var c={items:[{field:"jobTitle",value:e.jobTitle},{field:"jobIndustry",value:e.jobIndustry},{field:"jobFunction",value:e.jobFunction}]};fetch("/user/fpd/api/profile",{method:"POST",credentials:"include",body:JSON.stringify(c),headers:{"content-type":"application/json; charset=UTF-8"},mode:"cors"}).then(function(e){if(!e.ok)throw Error("Invalid HTTP Status Code");if(cxdj.reportInteractionEvent("p13nScrim",{submitType:"successfulSubmit"}),"function"==typeof t)return t()}).catch(function(e){if("function"==typeof t)return t(e)})},isUserInUs:function(){var e=!1,t=document.cookie.match(/DJSESSION=([^;]*);/);return t&&(e=-1!==(t=decodeURIComponent(t[1])).indexOf("country=us")),e},getVxid:function(){var e=document.cookie.match(/TR=V2-([^;]*)/);return e&&1<e.length?e[1]:void 0},getCxenseId:function(){var e=document.cookie.match(/cX_P=([^;]*)/);return e&&1<e.length?e[1]:void 0},isEmailValid:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},isEmailInputValidated:function(e,t){if(!e||!t)return!1;var c="1px solid #cccccc",n="1px solid #f12b2b",r="",a="Please enter your Email",i="Please enter a valid Email",s=e.value;return""!==s&&this.isEmailValid(s)?(t.textContent=r,e.style.border=c,!0):(""===s?t.textContent=a:this.isEmailValid(s)||(t.textContent=i),e.style.border=n,!1)},handleNewsletterInputsChange:function(e,t,c,n,r){var a=!0;function i(){a?a=!1:cxenseOffers.isNewsletterInputsValidated(e,t,c)}e&&e.addEventListener("change",function(e){e.stopPropagation(),i()}),c&&c.addEventListener("change",function(e){e.stopPropagation(),i()}),n&&n.addEventListener("change",function(e){e.stopPropagation(),r&&(r.style.display=n.checked?"block":"none")})},isNewsletterInputsValidated:function(e,t,c){if(!e||!t||!c)return!1;var n="1px solid #cccccc",r="1px solid #f12b2b",a="",i="You must click the Policy Agreement checkbox & enter Email",s="Please enter your Email",o="You must click the Policy Agreement checkbox",d="Please enter a valid Email",f=e.value,u=c.checked;return""!==f&&u?this.isEmailValid(f)?(t.textContent=a,e.style.border=n,!0):(t.textContent=d,e.style.border=r,!1):(u||""!==f?u?""===f&&(t.textContent=s,e.style.border=r):(t.textContent=o,e.style.border=n):(t.textContent=i,e.style.border=r),!1)},throttle:function(e,t){var c=!1;return function(){c||(e.apply(null,arguments),c=!0,setTimeout(function(){c=!1},t))}},pageScrollDown:function(e,c,t){if(!(isNaN(e)||100<e||e<0)){var n=window.innerHeight,r=document.documentElement.scrollHeight||document.body.clientHeight,a=(r-n)*e/100;n<r?window.addEventListener("scroll",function t(){window.requestAnimationFrame(function(){var e=window.pageYOffset;a<=e&&"function"==typeof c&&(c(),window.removeEventListener("scroll",t))})}):"function"==typeof t&&t()}},pageScroll:function(e,c,n,t){if(!(isNaN(e)||100<e||e<0)){var r=!1,a=window.innerHeight,i=document.documentElement.scrollHeight||document.body.clientHeight,s=(i-a)*e/100;a<i?window.addEventListener("scroll",cxenseOffers.throttle(function(e){var t=window.pageYOffset;s<=t&&!r?("function"==typeof c&&c(),r=!0):t<s&&r&&("function"==typeof n&&n(),r=!1)},50)):"function"==typeof t&&t()}},fadeIn:function(t,e,c){t&&(e<=0&&(cxenseOffers._showElement(t),cxenseOffers._setOpacity(t,100)),c="function"==typeof c?c:function(){},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing:function(e){return e},draw:function(e){cxenseOffers._setOpacity(t,100*e),1===e&&(cxenseOffers._showElement(t),c())}}))},fadeOut:function(t,e,c){t&&(e<=0&&(cxenseOffers._hideElement(t),cxenseOffers._setOpacity(t,0)),c="function"==typeof c?c:function(){},e=isNaN(e)?400:e,cxenseOffers._animate({duration:e,timing:function(e){return e},draw:function(e){cxenseOffers._setOpacity(t,100*(1-e)),1===e&&(cxenseOffers._hideElement(t),c())}}))},_showElement:function(e){e.style.display="block",e.style.visibility="visible"},_hideElement:function(e){e.style.display="none",e.style.visibility="hidden"},_setOpacity:function(e,t){e.style.opacity=t/100,e.style.filter="alpha(opacity="+t+")"},_animate:function(r){var a=performance.now();requestAnimationFrame(function e(t){var c=(t-a)/r.duration;1<c&&(c=1);var n=r.timing(c);r.draw(n),c<1&&requestAnimationFrame(e)})},injectSlimSelect:function(e){var t=document.createElement("script");t.type="text/javascript",t.src="https://"+cxdj.cdnDomain+"/static_html_files/slimselect.min.js",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)},injectRecaptchaScript:function(e){if("undefined"==typeof grecaptcha){var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?render=6LcmI7sUAAAAAF-vTKb3JIwIzz2CXCx8hJW0Ukis",t.setAttribute("async",""),t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}else"function"==typeof e&&e()},_isDivEmpty:function(e){if(!e)return!0;for(var t,c,n=[e];0!==n.length;)for(var r=n.length,a=0;a<r;a++){if("object"==typeof(t=n.shift())&&"string"==typeof t.textContent&&""!==t.textContent.trim())return!1;if("object"==typeof t&&"object"==typeof t.children)for(var i=0;i<t.children.length;i++)c=t.children[i],n.push(c)}return!0},lazyLoad:function(e,t){var c=document.getElementById(e);if(c)if(cxenseOffers.isDivVisibleInViewport(c))t();else{window.addEventListener("scroll",function e(){window.requestAnimationFrame(function(){cxenseOffers.isDivVisibleInViewport(c)&&(t(),window.removeEventListener("scroll",e))})})}},isDivVisibleInViewport:function(e){if(!e)return!1;var t=window.pageYOffset,c=t+window.innerHeight,n=e.getBoundingClientRect().top+t,r=n+(e.clientHeight||e.offsetHeight);return n<=c&&t<=n||t<=r&&r<=c},getModCode:function(e){if("string"!=typeof e||0===e.length)return"";var t=e.match(/[?&]mod=([^&#]*)/);return t?t[1]:""},signupFreeregUser:function(e,t,c){if(!/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(e))return c("Invalid Email Address");fetch("/emailsignup/freereg",{method:"POST",body:JSON.stringify({email:e,type:t,url:window.location.href}),headers:{"content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){return e&&e.redirectUrl?c(null,e.redirectUrl):c("Unable to Retrieve Free Article")}).catch(function(e){return c("Unable to Retrieve Free Article")})}};
//# sourceMappingURL=cxense-candy.js.map