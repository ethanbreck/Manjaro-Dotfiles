(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{BskY:function(e,t,n){"use strict";var r,o=(r=n("kxtY"))&&r.__esModule?r:{default:r};var i=n("CQAi");e.exports={getArticleSaveStatus:function(e,t){(0,o.default)("".concat("/articles/svc/personalization","/saved-contents/by-content-id/").concat(e)).get().text((function(e){return t(null,"true"===e)})).catch(t)},getUrlWithToken:function(e){var t={url:e};return(0,o.default)("".concat(window&&(window.location.host.indexOf("s.dev")>=0||window.location.host.indexOf("local")>=0)?"https://www.s.dev.wsj.com":"https://www.wsj.com","/emailthis/share-url")).options({credentials:"include",mode:"cors"}).accept("application/json").content("application/json").post(t).json((function(e){if(e&&e.shareUrl)return e.shareUrl;throw new Error("Could not successfully generate share URL")}))},removeArticle:function(e,t){var n={contentId:e};(0,o.default)("".concat("/articles/svc/personalization","/saved-contents?contentId=").concat(e)).delete(n).json((function(e){return t(null,e||0===e)})).catch(t)},saveArticle:function(e,t){var n={contentId:e};(0,o.default)("".concat("/articles/svc/personalization","/saved-contents")).post(n).json((function(e){return t(null,e&&e.contentId)})).catch(t),i({event_name:"article_save"})}}},DnTZ:function(e,t,n){"use strict";(function(t){var r="/home/jenkins/workspace/NPM-web-ui/lib/components/wsj/ShareTools/index.js";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("q1tI"),h=n("fFtP"),d=(n("17x9"),n("yDJ3")),f=n("BskY").getUrlWithToken,y=n("pgtz"),S=n("XhxB"),g=n("ChiG"),v=n("eUjG"),b=n("CQAi"),w=n("9AKW"),T=n("h0TI"),k=n("pteI"),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(g,e);var n,o,h,y,S=(n=g,function(){var e,t=m(n);if(c()){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return s(this,e)});function g(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),u(l(n=S.call(this,e)),"getUrlWithToken",(function(e){return new t((function(t,r){f(e).then((function(e){n.setState({urlWithToken:e}),t(e),n.handlePermalinkCopy(e)})).catch((function(n){t(e)}))}))})),u(l(n),"displayLabel",(function(e,t){return"permalink"===t?n.translations[n.state.permalinkText]||n.state.permalinkText:n.translations[e]||e})),u(l(n),"renderPermalink",(function(e){var t=n.props.options,r=t.isLoggedIn,o=t.freeArticle,i=n.state.urlWithToken,a=r&&!o&&!i;if(n.sendTracking("permalink"),i)return n.handlePermalinkCopy(i);a?n.getUrlWithToken(e):n.handlePermalinkCopy(e)})),u(l(n),"handlePermalinkCopy",(function(e){T(e,(function(){n.setState({permalinkText:n.translations.copied}),window.setTimeout((function(){n.setState({permalinkText:"Permalink"})}),1500)}))})),u(l(n),"handleModal",(function(e,t){var r,o,i=e.shareBody,a=e.type,s=n.props.options,l=s.isLoggedIn,c=s.urlByArticleID,m=s.useUrlByArticleID,u=s.articleId;switch(a){case"facebook":return o=encodeURIComponent(t),r="https://www.facebook.com/sharer/sharer.php?u=".concat(o),n.sendTracking("Facebook"),n.renderSocialShare(r);case"twitter":return o=m?l?"https://cn.wsj.com/articles/"+u:encodeURIComponent(c):encodeURIComponent(t),r="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(i),"&url=").concat(o,"&via=WSJ"),n.sendTracking("Twitter"),n.renderSocialShare(r);case"email":return l?n.openEmailScrim():null;case"permalink":return n.renderPermalink(t);case"hatena":return o=encodeURIComponent(t),r="http://b.hatena.ne.jp/entry/".concat(o),n.renderSocialShare(r);default:return null}})),u(l(n),"toggleToolsVisibility",(function(e){n.setState({showEmailScrim:e})})),u(l(n),"openEmailScrim",(function(){var e=d(n.props.options,"cssSelectors.shareToolsContainer"),t=document.querySelector(e),r=document.documentElement;t.style.zIndex="90",t.style.position="relative",r.style.position="absolute",r.style.overflow="hidden",r.style.width="100vw",n.toggleToolsVisibility(!0)})),u(l(n),"closeEmailScrim",(function(){n.toggleToolsVisibility(!1);var e=d(n.props.options,"cssSelectors.shareToolsContainer"),t=document.querySelector(e),r=document.querySelector("html");t.style.zIndex="35",r.style.position="auto",r.style.overflow="auto"})),u(l(n),"renderEmailScrim",(function(e){if(!n.state.showEmailScrim)return!1;var t=n.props.options,o=t.author,i=t.articleId,a=t.description,s=t.encodeEmailUrl,c=t.source,m=t.headline,u=t.image,h=t.region,d=t.seoId,f=t.sharePath,y=t.template,S=t.url,g=e.find((function(e){return"email"===e.type})),v=s&&f?"".concat(f,"/").concat(d):S,b=g.userEmail,T={emailScrim:n.css.namespace("email_")};return p.createElement(w,{css:T.emailScrim,options:{author:o,articleId:i,closeMenu:n.closeEmailScrim,dataType:"article",description:a,source:c,shareName:m,image:u,region:h,shareURL:v,showEmailScrim:!0,userEmail:b,template:y},__self:l(n),__source:{fileName:r,lineNumber:254,columnNumber:7}})})),n.translations=v[e.options.region]||v["na,us"],n.css=e.css||function(){return""},n.state={permalinkText:n.translations.Permalink,showEmailScrim:!1},n}return o=g,(h=[{key:"sendTracking",value:function(e){var t=this.props.options.headline;b({event_name:"social_share",social_share_type:e,social_share_headline:t})}},{key:"renderShareTools",value:function(e,t){var n=this,o=e.shareItems,i=this.props.options.isLoggedIn;return o.length?(i||(o=o.filter((function(e){return"Email"!==e.label}))),p.createElement("div",{className:this.css("share-tools-menu"),__self:this,__source:{fileName:r,lineNumber:94,columnNumber:7}},p.createElement("span",{className:this.css("share-item-label-text"),__self:this,__source:{fileName:r,lineNumber:95,columnNumber:9}},this.translations.share),o.map((function(e){return p.createElement("li",{className:n.css("share-item",e.type),onClick:function(){return n.handleModal(e,t)},key:e.label,__self:n,__source:{fileName:r,lineNumber:97,columnNumber:11}},p.createElement("a",{className:n.css("link"),key:e.label,target:"_blank",role:"button",__self:n,__source:{fileName:r,lineNumber:102,columnNumber:13}},n.displayLabel(e.label,e.type)))})))):null}},{key:"renderSocialShare",value:function(e){return window.open(e,"_blank")}},{key:"render",value:function(){var e=this.props.options,t=e.url,n=e.position,o=e.tool;return 0===Object.keys(o).length?null:p.createElement("div",{className:this.css(n),__self:this,__source:{fileName:r,lineNumber:280,columnNumber:7}},this.renderShareTools(o,t),this.renderEmailScrim(o.shareItems))}}])&&i(o.prototype,h),y&&i(o,y),g}(h);u(W,"options",{type:"object",properties:{shareBody:{type:"string"},region:{type:"string"},url:{type:"string"},isLoggedIn:{type:"boolean"},articleId:{type:"string"},author:{type:"string"},description:{type:"string"},encodeEmailUrl:{type:"boolean"},position:{type:"string"},tool:{type:"object"},headline:{type:"string"},image:{type:"string"},sharePath:{type:"string"},seoId:{type:"string"},source:{type:"array"},template:{type:"string"},urlByArticleID:{type:"string"},useUrlByArticleID:{type:"string"},urlWithToken:{type:"string"}}}),u(W,"markAsImmutableForCache",[{$props:["options","tool"]}]),u(W,"decorators",{WSJTheme:g("WSJTheme",y,{namespace:"email_",styles:k})}),u(W,"defaultOptions",{isLoggedIn:!1,position:"vertical",region:"na,us",encodeEmailUrl:!1}),e.exports=S(W,n("mvUs"))}).call(this,n("CSL1"))},eUjG:function(e){e.exports={"na,us":{comment:"Response",comments:"Responses",copied:"Copied",save:"Save",saved:"Saved",print:"Print",share:"Share",Permalink:"Permalink",textSize:{text:"Text",textSize:"Text Size",small:"Small",medium:"Medium",large:"Large"}},"asia,cn":{comment:"评论",comments:"评论",copied:"已复制",save:"保存文章",saved:"已保存",print:"列印",share:"分享",Permalink:"文章链接",textSize:{text:"文字大小",textSize:"文字大小",small:"小",medium:"中",large:"大"}},"asia,cn_hant":{comment:"评论",comments:"评论",copied:"已複製",save:"保存文章",saved:"已保存",print:"列印",share:"分享",Permalink:"文章鏈接",textSize:{text:"文字大小",textSize:"文字大小",small:"小",medium:"中",large:"大"}},"asia,jp":{comment:"評価",comments:"評価",copied:"Copied",save:"保存する",saved:"保存しました",print:"印刷",share:"シェア",hatena:"はてな",Permalink:"リンクをコピー",textSize:{text:"文字サイズ",textSize:"文字サイズ",small:"小",medium:"中",large:"大"}}}},h0TI:function(e,t,n){"use strict";e.exports=function(e,t){if(!document||!window)return null;var n=navigator&&navigator.userAgent.match(/ipad|iphone/i),r=document.createElement("textarea");if(r.value=e,r.setAttribute("readonly",""),r.style.position="fixed",r.style.left="-9999px",document.body.appendChild(r),n){var o=document.createRange();o.selectNodeContents(r);var i=window.getSelection();i.removeAllRanges(),i.addRange(o),r.setSelectionRange(0,999999)}else r.select();try{document.execCommand("copy"),t()}catch(t){window.prompt("Copy to clipboard: Ctrl+C (Cmd+C on Mac)",e),console.error(t)}finally{document.body.removeChild(r)}}},mvUs:function(e){e.exports={id:"0ad70e52-063f-11ea-8d71-362b9e155667",displayName:"ShareTools"}},pgtz:function(e,t,n){e.exports={"share-tools-menu":"WSJTheme--share-tools-menu-eKMiCvpBJ0S8PCKRePNjC","share-item":"WSJTheme--share-item-2SkOKsarWA9emAirIHE5Ht typography--sans-serif-narrow-tQEgavy2xkU0WMtPx47ok",vertical:"WSJTheme--vertical-lQ52v6QDLyDt6KUYB-XJy",tool:"WSJTheme--tool-1RGNQml__SE0O99bVzHNop","tool-icon":"WSJTheme--tool-icon-2N7vNFcPawAmYX6L_CMxan","tool-label":"WSJTheme--tool-label-3Twvc1FcjBg0BhAwrYuexB","share-menu-container":"WSJTheme--share-menu-container-mvQ3kj-EBJXJ3Q9nTAFrq",facebook:"WSJTheme--facebook-1UY1HauMjryD4qXFs2-a_j",twitter:"WSJTheme--twitter-LkAhs5rhBqXvO2ggiWl-A",whatsapp:"WSJTheme--whatsapp-23-wAOURV1lookl5QUlEPl",line:"WSJTheme--line-31KmLaGs9l2cXSeHuPFlQ9",hatena:"WSJTheme--hatena-2My6PSkjv_eV43Ezy10p3O",email:"WSJTheme--email-3R5Fc7nw-TVk2PhSO_G18l",permalink:"WSJTheme--permalink-3xRWuucZ8-xKDDqJhQbnaX",link:"WSJTheme--link-3KdnTAwkIpR5vVEitGdoun","share-item-label-text":"WSJTheme--share-item-label-text-2ge8CWOADlj1DMhNd99iGz typography--sans-serif-narrow-tQEgavy2xkU0WMtPx47ok"}},pteI:function(e,t,n){e.exports={"scrim-container":"WSJTheme--scrim-container-1pllaipQUT26ikOFs0PVfX",scrim:"WSJTheme--scrim-3rf55WA5Ye5ETUiSwbkOPL",close:"WSJTheme--close-c9923qf-FetRgG-_9vDhs US-share-icons--close-3_yNU-mUHfF-iWrur2jagG",content:"WSJTheme--content-1PZAh5HdWJsOKkGqKn6IF8",thumbnail:"WSJTheme--thumbnail-vt9032sibG__rS4HN-D4F",title:"WSJTheme--title-3vsAwaKe01DBLHc9k_8cGc",description:"WSJTheme--description-jYrXj_VBiKA_Q8tANAC_m","input-wrap":"WSJTheme--input-wrap-Jvw3XEmfkQiDcK-1KNQ-L",error:"WSJTheme--error-53Rq4tSHA0TSl46koLN9Z",invalid:"WSJTheme--invalid-2Gm0nXD_cge60Z4k9ShYXr","too-many":"WSJTheme--too-many-3CJKox0U_tZ40sJdpy12X2",label:"WSJTheme--label-2c6oWWTipKxVW7-3CezYdb","text-area":"WSJTheme--text-area-3C0lbwarStUWRsW8xSN0EF",message:"WSJTheme--message-PrSGeAh5Byw-UsO9gwCfC",submit:"WSJTheme--submit-1cS4kq7_4QxKur3rarLU3n","captcha-wrap":"WSJTheme--captcha-wrap-3nARcKrGuGwWMqWrEvFnA1","email-ty-wrap":"WSJTheme--email-ty-wrap-1qxu591QK2s6OIOVgPlnPc","ty-headline":"WSJTheme--ty-headline-BJTvWqtKI2c6MuOj6Y1ds","ty-message":"WSJTheme--ty-message-2Sq2PrPWt8K9SptOipAgSh","ty-recipient":"WSJTheme--ty-recipient-vIsDL1JzhkFvKFyi_8FQO"}}}]);